<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocational English - Pronunciation Master</title>
    <style>
        :root {
            --primary: #6c5ce7; --secondary: #a29bfe; --success: #00b894;
            --danger: #d63031; --bg: #f9f9fb; --text: #2d3436;
        }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 500px; margin: auto; }
        h1 { text-align: center; color: var(--primary); font-size: 1.5rem; }
        
        .vocab-card {
            background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); border: 2px solid transparent;
        }
        
        .word-header { display: flex; justify-content: space-between; align-items: center; }
        .english-word { font-size: 1.4rem; font-weight: bold; color: var(--primary); }
        .btn-audio { background: var(--secondary); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; font-size: 1.2rem; }
        
        .translation { font-size: 1rem; color: #636e72; margin: 10px 0; display: block; font-weight: bold; }
        .example-box { background: #f1f2f6; padding: 12px; border-radius: 10px; font-size: 0.9rem; font-style: italic; border-left: 4px solid var(--secondary); margin: 15px 0; line-height: 1.4; }
        
        .btn-record { 
            background: var(--primary); color: white; border: none; padding: 12px 25px; 
            border-radius: 30px; font-size: 1rem; cursor: pointer; width: 100%; transition: 0.3s;
        }
        .btn-record.recording { background: var(--danger); animation: pulse 1.5s infinite; }
        
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
        
        .feedback { margin-top: 15px; font-weight: bold; min-height: 40px; text-align: center; }
        .correct { color: var(--success); }
        .wrong { color: var(--danger); }
        .info { color: #666; font-size: 0.85rem; }

        #popup {
            display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 75%; background: white; padding: 30px; border-radius: 20px; text-align: center;
            box-shadow: 0 0 50px rgba(0,0,0,0.2); z-index: 100;
        }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 99; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ¤ Pronunciation Corner</h1>
    <p style="text-align:center; color: #666;">é»æ“Š ğŸ”Š è½ç™¼éŸ³ï¼Œé»æ“Š ğŸ¤ ç·´ç¿’éŒ„éŸ³</p>

    <div id="app"></div>
</div>

<div id="overlay" class="overlay"></div>
<div id="popup">
    <div id="popup-icon" style="font-size: 3rem;"></div>
    <h3 id="popup-msg"></h3>
    <button onclick="closePopup()" style="background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor:pointer;">ç¹¼çºŒç·´ç¿’</button>
</div>

<script>
    // æ›´æ–°å¾Œçš„ 15 å€‹æ ¸å¿ƒå–®å­—åŠè·æ¥­è‹±èªä¾‹å¥
    const vocabList = [
        { word: "close", translation: "é—œé–‰", example: "Please close the safety cover before starting the machine." },
        { word: "connect", translation: "é€£æ¥", example: "Connect the blue wire to the terminal." },
        { word: "cut off", translation: "åˆ‡æ–·", example: "Cut off the power supply in case of emergency." },
        { word: "disconnect", translation: "ä¸­æ–·é€£æ¥", example: "Disconnect the cables before moving the computer." },
        { word: "insert", translation: "æ’å…¥", example: "Insert the key into the slot and turn it clockwise." },
        { word: "loosen", translation: "æ”¾é¬† / é¬†é–‹", example: "Loosen the screws slightly to adjust the position." },
        { word: "open", translation: "é–‹å•Ÿ", example: "Open the valve to release the pressure." },
        { word: "plug in", translation: "æ¥é€šé›»æº / æ’ä¸Šæ’é ­", example: "Plug in the vacuum cleaner to the wall socket." },
        { word: "remove", translation: "ç§»é™¤", example: "Remove the old battery and replace it with a new one." },
        { word: "screw", translation: "æ“°ç·Šèºçµ²", example: "Screw the bolts tightly to secure the base." },
        { word: "straighten", translation: "å¼„ç›´ / æ‹‰ç›´", example: "Straighten the metal wire before cutting it." },
        { word: "tighten", translation: "ç·Šå›º", example: "Tighten the nut with a wrench." },
        { word: "twist", translation: "æ‰­å‹• / è½‰å‹•", example: "Twist the cap to open the bottle." },
        { word: "unplug", translation: "æ‹”æ‰æ’é ­", example: "Unplug the hairdryer after use for safety." },
        { word: "unscrew", translation: "æ—‹é¬†èºçµ²", example: "Unscrew the back panel to check the components." }
    ];

    const app = document.getElementById('app');

    vocabList.forEach((item, index) => {
        const card = document.createElement('div');
        card.className = 'vocab-card';
        card.innerHTML = `
            <div class="word-header">
                <span class="english-word">${item.word}</span>
                <button class="btn-audio" onclick="playAudio('${item.word}')">ğŸ”Š</button>
            </div>
            <span class="translation">${item.translation}</span>
            <div class="example-box">Example: "${item.example}"</div>
            <div class="record-section">
                <button class="btn-record" onclick="startRecord('${item.word}', ${index}, this)">ğŸ¤ æŒ‰ä½éŒ„éŸ³</button>
                <div class="feedback" id="feedback-${index}"></div>
            </div>
        `;
        app.appendChild(card);
    });

    function playAudio(text) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'en-US';
        msg.rate = 0.85;
        window.speechSynthesis.speak(msg);
    }

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = 'en-US';

    let currentBtn = null;
    let currentFeedback = null;
    let targetText = "";

    function startRecord(word, index, btn) {
        targetText = word.toLowerCase();
        currentBtn = btn;
        currentFeedback = document.getElementById(`feedback-${index}`);
        
        btn.innerText = "æ­£åœ¨è½... ğŸ‘‚";
        btn.classList.add('recording');
        recognition.start();
    }

    recognition.onresult = (event) => {
        const result = event.results[0][0].transcript.toLowerCase();
        currentBtn.innerText = "ğŸ¤ æŒ‰ä½å†è©¦ä¸€æ¬¡";
        currentBtn.classList.remove('recording');

        if (result.includes(targetText)) {
            currentFeedback.innerHTML = `<span class="correct">Excellent! "${result}" ğŸ‰</span>`;
            showPopup("æº–ç¢ºçš„ç™¼éŸ³ï¼", "ğŸŒŸ");
        } else {
            currentFeedback.innerHTML = `
                <span class="wrong">å†è©¦è©¦çœ‹ï¼</span><br>
                <span class="info">ä½ è®€äº†: "${result}"</span>
            `;
        }
    };

    recognition.onerror = () => {
        currentBtn.innerText = "ğŸ¤ æŒ‰ä½éŒ„éŸ³";
        currentBtn.classList.remove('recording');
    };

    function showPopup(msg, icon) {
        document.getElementById('popup-msg').innerText = msg;
        document.getElementById('popup-icon').innerText = icon;
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('popup').style.display = 'block';
    }

    function closePopup() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('popup').style.display = 'none';
    }
</script>

</body>
</html>